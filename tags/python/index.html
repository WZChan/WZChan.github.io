<!DOCTYPE html>
<html lang="en">
<head>

  <meta charset="utf-8" />

  
  <title>
  Tag → python
  
   | WZChan&#39;s Blog(Supported By Hugo!)
</title>

  
  





  
  <meta name="author" content="WZChan" />
  <meta name="description" content="Blog for everything!" />

  
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@ZiyanCh" />
  <meta name="twitter:title" content="WZChan&#39;s Blog(Supported By Hugo!)" />
  <meta name="twitter:description" content="Blog for everything!" />
  <meta name="twitter:image" content="https://wzchan.github.io/img/avatar.jpg" />




<meta name="generator" content="Hugo 0.31.1" />


<link rel="canonical" href="https://wzchan.github.io/tags/python/" />
<link rel="alternative" href="https://wzchan.github.io/index.xml" title="WZChan&#39;s Blog" type="application/atom+xml" />


<meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<meta name="format-detection" content="telephone=no,email=no,adress=no" />
<meta http-equiv="Cache-Control" content="no-transform" />


<meta name="robots" content="index,follow" />
<meta name="referrer" content="origin-when-cross-origin" />
<meta name="google-site-verification" content="_moDmnnBNVLBN1rzNxyGUGdPHE20YgbmrtzLIbxaWFc" />






<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
<meta name="apple-mobile-web-app-title" content="WZChan&#39;s Blog" />
<meta name="msapplication-tooltip" content="WZChan&#39;s Blog" />
<meta name='msapplication-navbutton-color' content="#5fbf5e" />
<meta name="msapplication-TileColor" content="#5fbf5e" />
<meta name="msapplication-TileImage" content="/img/tile-image-windows.png" />
<link rel="icon" href="https://wzchan.github.io/img/favicon.ico" />
<link rel="icon" type="image/png" sizes="16x16" href="https://wzchan.github.io/img/favicon-16x16.png" />
<link rel="icon" type="image/png" sizes="32x32" href="https://wzchan.github.io/img/favicon-32x32.png" />
<link rel="icon" sizes="192x192" href="https://wzchan.github.io/img/touch-icon-android.png" />
<link rel="apple-touch-icon" href="https://wzchan.github.io/img/touch-icon-apple.png" />
<link rel="mask-icon" href="https://wzchan.github.io/img/safari-pinned-tab.svg" color="#5fbf5e" />



<link rel="stylesheet" href="//cdn.bootcss.com/video.js/6.2.8/alt/video-js-cdn.min.css" />

<link rel="stylesheet" href="https://wzchan.github.io/css/bundle.css" />


  
  <!--[if lt IE 9]>
    <script src="//cdn.bootcss.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="//cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
    <script src="//cdn.bootcss.com/video.js/6.2.8/ie8/videojs-ie8.min.js"></script>
  <![endif]-->

<!--[if lte IE 11]>
    <script src="//cdn.bootcss.com/classlist/1.1.20170427/classList.min.js"></script>
  <![endif]-->


<script src="//cdn.bootcss.com/object-fit-images/3.2.3/ofi.min.js"></script>


<script src="//cdn.bootcss.com/smooth-scroll/12.1.4/js/smooth-scroll.polyfills.min.js"></script>


</head>
  <body>
    
    <div class="suspension">
      <a title="Go to top" class="to-top is-hide"><span class="icon icon-up"></span></a>
      
    </div>
    
    
  <header class="site-header">
  <img class="avatar" src="https://wzchan.github.io/img/icon.jpg" alt="Avatar">
  
  <h2 class="title">WZChan&#39;s Blog</h2>
  
  <p class="subtitle">~ Keep learning. &amp; Keep training. ~</p>
  <button class="menu-toggle" type="button">
    <span class="icon icon-menu"></span>
  </button>
  <nav class="site-menu collapsed">
    <h2 class="offscreen">Main Menu</h2>
    <ul class="menu-list">
      
      
      
      
        <li class="menu-item
            
            
            ">
            <a href="https://wzchan.github.io/">Home</a>
          </li>
      
        <li class="menu-item
            
            
            ">
            <a href="https://weibo.com/chenwuzi">Weibo</a>
          </li>
      
        <li class="menu-item
            
            
            ">
            <a href="https://wzchan.github.io/tags/">Tags</a>
          </li>
      
        <li class="menu-item
            
            
            ">
            <a href="https://www.zybuluo.com/mdeditor?url=https://www.zybuluo.com/static/editor/md-help.markdown#cmd-markdown-%e9%ab%98%e9%98%b6%e8%af%ad%e6%b3%95%e6%89%8b%e5%86%8c">MarkDown</a>
          </li>
      
    </ul>
  </nav>
  <nav class="social-menu collapsed">
    <h2 class="offscreen">Social Networks</h2>
    <ul class="social-list">

      
      <li class="social-item">
        <a href="mailto:564224969@qq.com" title="Email"><span class="icon icon-email"></span></a>
      </li>

      
      <li class="social-item">
        <a href="//github.com/wzchan" title="GitHub"><span class="icon icon-github"></span></a>
      </li>

      <li class="social-item">
        <a href="//twitter.com/ZiyanCh" title="Twitter"><span class="icon icon-twitter"></span></a>
      </li>

      

      

      

      

      

      

      

      

      

      

      

      

      <li class="social-item">
        <a href="//weibo.com/chenwuzi" title="Weibo"><span class="icon icon-weibo"></span></a>
      </li>

      <li class="social-item">
        <a href="https://wzchan.github.io/img/wx.jpg" title="Wechat"><span class="icon icon-wechat"></span></a>
      </li>

      

      

      

      <li class="social-item">
        <a href="//space.bilibili.com/2129393" title="Bilibili"><span class="icon icon-bilibili"></span></a>
      </li>

      <li class="social-item">
        <a href="https://wzchan.github.io/index.xml"><span class="icon icon-rss" title="RSS"></span></a>
      </li>

    </ul>
  </nav>
</header>

  <section class="main post-list">
    <header class="list-header offscreen">
      <h2 class="list-label">Posts List</h2>
    </header>
    
    
      
        <article class="post-entry">
  <header class="post-header">
    <h3 class="post-title"><a href="https://wzchan.github.io/post/python/python%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E5%9B%BE%E7%89%87%E7%89%A9%E4%BD%93%E6%A0%87%E6%B3%A8%E5%B7%A5%E5%85%B7/" class="post-link">Python实现一个简单的图片物体标注工具</a></h3>
    <p class="post-meta">@WZChan · Dec 6, 2017 · 4 min read</p>
  </header>
  
  <p class="post-summary"># coding: utf-8 &#34;&#34;&#34; 物体检测标注小工具 基本思路： 对要标注的图像建立一个窗口循环，然后每次循环的时候对图像进行一次复制， 鼠标在画面上画框的操作、画好的框的相关信息在全局变量中保存， 并且在每个循环中根据这些信息，在复制的图像上重新画一遍，然后显示这份复制的图像。 简化的设计过程： 1、输入是一个文件夹的路径，包含了所需标注物体框的图片。 如果图片中标注了物体，则生成一个相同名称加额外后缀_bbox的文件，来保存标注信息。 2、标注的方式：按下鼠标左键选择物体框的左上角，松开鼠标左键选择物体框的右下角， 按下鼠标右键删除上一个标注好的物体框。 所有待标注物体的类别和标注框颜色由用户自定义。 如果没有定义则默认只标注一种物体，定义该物体名称为Object。 3、方向键 ← 和 → 键用来遍历图片， ↑ 和 ↓ 键用来选择当前要标注的物体， Delete键删除一种脏图片和对应的标注信息。 自定义标注物体和颜色的信息用一个元组表示 第一个元素表示物体名字 第二个元素表示BGR颜色的tuple或者代表标注框坐标的元祖 利用repr()保存和eval()读取 &#34;&#34;&#34; &#34;&#34;&#34; 一些说明： 1. 标注相关的物体标签文件即 .labels 结尾的文件，需要与所选文件夹添加到同一个根目录下 一定要注意这一点，否则无法更新标注物体的类型标签，致使从始至终都只有一个默认物体出现 我就是这个原因，拖了两三天才整好，当然也顺便仔细的读了这篇代码。同时也学习了@staticmethod以及相应Python的decorator的知识。 可以说，在曲折中前进才是棒的。 2. .labels文件为预设物体标签文件，其内容具体格式为: &#39;object1&#39;, (B, G, R) &#39;object2&#39;, (B, G, R) &#39;object3&#39;, (B, G, R)…… 具体见文后图片。 3. 最后生成的标注文件，在文后会有，到时再进行解释。 &#34;&#34;&#34; import os import cv2 # tkinter是Python内置的简单GUI库，实现打开文件夹、确认删除等操作十分方便 from tkMessageBox import askyesno # 定义标注窗口的默认名称 WINDOW_NAME = &#39;Simple Bounding Box Labeling Tool&#39; # 定义画面刷新帧率 FPS = 24 # 定义支持的图像格式 SUPPORTED_FORMATS = [&#39;jpg&#39;, &#39;jpeg&#39;, &#39;png&#39;] # 定义默认物体框的名字为Object，颜色为蓝色，当没有用户自定义物体时，使用该物体 DEFAULT_COLOR = {&#39;Object&#39;: (255, 0, 0)} # 定义灰色，用于信息显示的背景和未定义物体框的显示 COLOR_GRAY = (192, 192, 192) # 在图像下方多处BAR_HEIGHT的区域，用于显示信息 BAR_HEIGHT = 16 # 上下左右,DELETE键对应的cv2.</p>
  <footer class="post-footer">
    <a class="read-more" href="https://wzchan.github.io/post/python/python%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E5%9B%BE%E7%89%87%E7%89%A9%E4%BD%93%E6%A0%87%E6%B3%A8%E5%B7%A5%E5%85%B7/">Read More →</a>
  </footer>
</article>

      
        <article class="post-entry">
  <header class="post-header">
    <h3 class="post-title"><a href="https://wzchan.github.io/post/python/python%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B/" class="post-link">Python函数式编程</a></h3>
    <p class="post-meta">@WZChan · Dec 6, 2017 · 1 min read</p>
  </header>
  
  <p class="post-summary">函数是编程是一种抽象程度很高的编程范式。特点之一是允许将函数本身作为参数传入另一个函数。并且允许返回一个函数。
1 高阶函数 变量可以指向的函数 f = abs 其中abs为一个函数，即变量f指向abs本身。
函数名也是变量 abs()是函数，abs其实是一个指向该函数的变量。
ps:abs定义在__builtin__模块中。
传入函数 函数的参数可以接受变量，那么也可以接受其实是变量的函数名。
&gt;&gt;&gt;def add(x, y, f): return f(x) &#43; f(y) &gt;&gt;&gt;add(-9, 6, abs) 15  实际上就是abs(-9) &#43; abs(6)的过程。
#####总结：把函数作为参数传入，这样的函数就是高阶函数。
2 map() / reduce() map() 接受两个参数：函数与序列。 map(f, [ something ]) map(str, [1, 2, 3, 4, 5, 6]) ==&gt; [&#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;] 实际上map()是把计算过程抽象化了。
reduce() 接收两个参数：函数和序列。 与map()不同的是，reduce将接收到的函数作用在序列的每一个元素上并将其累计计算。
&gt;&gt;&gt; def fn(x, y): return x * 10 &#43; y &gt;&gt;&gt; reduce(fn, [1, 3, 5, 7, 9]) 13579  3 filter() filter()接收一个函数和一个序列。 它将传入的函数依次作用于每个元素，然后根据返回值决定保留或是丢弃。 例：找1~100之间的素数</p>
  <footer class="post-footer">
    <a class="read-more" href="https://wzchan.github.io/post/python/python%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B/">Read More →</a>
  </footer>
</article>

      
        <article class="post-entry">
  <header class="post-header">
    <h3 class="post-title"><a href="https://wzchan.github.io/post/python/python_decorator/" class="post-link">Python_decorator</a></h3>
    <p class="post-meta">@WZChan · Dec 6, 2017 · 1 min read</p>
  </header>
  
  <p class="post-summary">def my_shiny_new_decorator(a_function_to_decorate): def the_wrapper_around_the_original_function(): print &#39;Befor the function runs&#39; a_function_to_decorate() print &#39;After the function runs&#39; return the_wrapper_around_the_original_function def a_stand_alone_function(): print &#34;I&#39;m a stand alone function, don&#39;t you dare modify me&#34; a_stand_alone_function() a_stand_alone_function = my_shiny_new_decorator(a_stand_alone_function) a_stand_alone_function() @my_shiny_new_decorator def another_stand_alone_function(): print &#39;Leave me alone&#39; another_stand_alone_function()  输出结果：def bread(func): def wrapper(): print &#34;&lt;/&#39;&#39;&#39;&#39;&#39;&#39;\&gt;&#34; func() print &#34;&lt;/______\&gt;&#34; return wrapper def ingredients(func): def wrapper(): print &#34;#tomatoes#&#34; func() print &#34;~salad~&#34; return wrapper def sandwich(food=&#34;--ham--&#34;): print food sandwich = bread(ingredients(sandwich)) sandwich()  输出结果：def bread(func): def wrapper(): print &#34;&lt;/&#39;&#39;&#39;&#39;&#39;&#39;\&gt;&#34; func() print &#34;&lt;/______\&gt;&#34; return wrapper def ingredients(func): def wrapper(): print &#34;#tomatoes#&#34; func() print &#34;~salad~&#34; return wrapper @bread @ingredients def sandwich(food=&#39;--ham--&#39;): print food sandwich()  输出结果：</p>
  <footer class="post-footer">
    <a class="read-more" href="https://wzchan.github.io/post/python/python_decorator/">Read More →</a>
  </footer>
</article>

      
        <article class="post-entry">
  <header class="post-header">
    <h3 class="post-title"><a href="https://wzchan.github.io/post/python/image_augmentation/" class="post-link">Image_Augmentation</a></h3>
    <p class="post-meta">@WZChan · Dec 6, 2017 · 5 min read</p>
  </header>
  
  <p class="post-summary">一个增加图片数量的工具，实现crop等操作。
image_augmentation.py ########## image_augmentation.py ############## # coding: utf-8 import numpy as np import cv2 &#39;&#39;&#39; 定义裁剪函数，四个参数如下 x0:左上角横坐标 y0:左上角纵坐标 w:裁剪宽度 h:裁剪高度 &#39;&#39;&#39; crop_image = lambda img, x0, y0, w, h: img[y0:y0 &#43; h, x0:x0 &#43; w] &#39;&#39;&#39; 随机裁剪 area_ratio 为裁剪画面占原画面的比例 hw_vari是 扰动 占 原高宽比 的比例范围 &#39;&#39;&#39; def random_crop(img, area_ratio, hw_vari): h, w = img.shape[:2] hw_delta = np.random.uniform(-hw_vari, hw_vari) hw_mult = 1 &#43; hw_delta # 下标进行裁剪，宽高必须是正整数 w_crop = int(round(w*np.sqrt(area_ratio*hw_mult))) # 裁剪宽度不可超过原图可剪裁的宽度 if w_crop &gt; w: w_crop = w h_crop = int(round(h*np.</p>
  <footer class="post-footer">
    <a class="read-more" href="https://wzchan.github.io/post/python/image_augmentation/">Read More →</a>
  </footer>
</article>

      
        <article class="post-entry">
  <header class="post-header">
    <h3 class="post-title"><a href="https://wzchan.github.io/post/python/excel%E6%95%B0%E6%8D%AE%E6%B8%85%E7%90%86/" class="post-link">Excel数据清理</a></h3>
    <p class="post-meta">@WZChan · Dec 6, 2017 · 2 min read</p>
  </header>
  
  <p class="post-summary">之前由于需要处理一些从网站数据库直接提取出的excel表格，进行去重和对相应单位的编号，所以有了这一次Excel数据清洗的经历。
下面就进行详细说明。
 目的：
 去重
 编号
  使用语言：python
涉及到的主要模块：
 xlrd Pandas   一、知识准备 1、Pandas介绍 python的数据分析包，是作为金融数据分析工具而被开发的，这里我们主要是利用pandas将excel表格数据转化为其中的数据结构DataFrame，从而将操作excel表变成操作DataFrame。
2、DataFrame 该数据结构是一个表格型的数据结构，包含一组有序的列，每列可以是不同的值类型。拥有行索引和列索引。 具体的关于DataFrame的操作这里给出一个比较好的使用说明，里面也有介绍Series的内容：Pandas使用指南
3、xlrd介绍 在这次数据经历的工作中还使用到了python中来读取和存储excel的扩展模块——xlrd。 它的作用来对本次处理的excel表格进行读取和存储，同时也可以实现指定表单、指定单元格的读写。
4、xlrd的基本操作 1）导入模块 import xlrd 2）打开Excel文件读取数据 data = xlrd.open_workbook(&#39;excelFile.xls&#39;) 3）使用技巧 获取一个工作表 table = data.sheets()[0] #通过索引顺序获取 table = data.sheet_by_index(0) #通过索引顺序获取 table = data.sheet_by_name(u&#39;Sheet1&#39;) #通过名称获取 获取整行和整列的值（数组） table.row_values(i) table.col_values(i) 获取行数和列数 nrows = table.nrows ncols = table.ncols 循环行列表数据 for i in range(nrows ): print table.row_values(i) 单元格 cell_A1 = table.</p>
  <footer class="post-footer">
    <a class="read-more" href="https://wzchan.github.io/post/python/excel%E6%95%B0%E6%8D%AE%E6%B8%85%E7%90%86/">Read More →</a>
  </footer>
</article>

      
        <article class="post-entry">
  <header class="post-header">
    <h3 class="post-title"><a href="https://wzchan.github.io/post/python/%E8%BD%AC%E5%85%B3%E4%BA%8Epython%E4%B8%AD%E5%B8%A6%E4%B8%8B%E5%88%92%E7%BA%BF%E7%9A%84%E5%8F%98%E9%87%8F%E5%92%8C%E5%87%BD%E6%95%B0%E7%9A%84%E6%84%8F%E4%B9%89/" class="post-link">关于python中带下划线的变量和函数的意义</a></h3>
    <p class="post-meta">@WZChan · Dec 6, 2017 · 1 min read</p>
  </header>
  
  <p class="post-summary">1 变量 1）前带 _ 的变量: 标明是一个私有变量, 只用于标明, 外部类还是可以访问到这个变量 2）前带两个 _ ,后带两个 _ 的变量:标明是内置变量, 3）大写加下划线的变量: 标明是不会发生改变的全局变量
常量 : 大写加下划线
USER_CONSTANT  对于不会发生改变的全局变量，使用大写加下划线。
私有变量 : 小写和一个前导下划线
_private_value  Python 中不存在私有变量一说，若是遇到需要保护的变量，使用小写和一个前导下划线。但这只是程序员之间的一个约定，用于警告说明这是一个私有变量，外部类不要去访问它。但实际上，外部类还是可以访问到这个变量。
内置变量 : 小写，两个前导下划线和两个后置下划线
__class__  两个前导下划线会导致变量在解释期间被更名。这是为了避免内置变量和其他变量产生冲突。用户定义的变量要严格避免这种风格。以免导致混乱。
2 函数和方法 1）前带 _ 的变量: 标明是一个私有函数, 只用于标明, 2）前带两个 _ ,后带两个 _ 的函数: 标明是特殊函数
总体而言应该使用，小写和下划线。但有些比较老的库使用的是混合大小写，即首单词小写，之后每个单词第一个字母大写，其余小写。但现在，小写和下划线已成为规范。
私有方法 ： 小写和一个前导下划线
def _secrete(self): print &#34;don&#39;t test me.&#34;  这里和私有变量一样，并不是真正的私有访问权限。同时也应该注意一般函数不要使用两个前导下划线(当遇到两个前导下划线时，Python 的名称改编特性将发挥作用)。 特殊函数后面会提及。
特殊方法 ： 小写和两个前导下划线，两个后置下划线
def __add__(self, other): return int.__add__(other)  这种风格只应用于特殊函数，比如操作符重载等。</p>
  <footer class="post-footer">
    <a class="read-more" href="https://wzchan.github.io/post/python/%E8%BD%AC%E5%85%B3%E4%BA%8Epython%E4%B8%AD%E5%B8%A6%E4%B8%8B%E5%88%92%E7%BA%BF%E7%9A%84%E5%8F%98%E9%87%8F%E5%92%8C%E5%87%BD%E6%95%B0%E7%9A%84%E6%84%8F%E4%B9%89/">Read More →</a>
  </footer>
</article>

      
    
    
  </section>
  <footer class="site-footer">
  <p>© 2017-2018 WZChan&#39;s Blog</p>
  <p>Powered by <a href="https://gohugo.io/" target="_blank">Hugo</a> with theme <a href="https://github.com/laozhu/hugo-nuo" target="_blank">Nuo</a>.</p>
  
</footer>



<script async src="//cdn.bootcss.com/video.js/6.2.8/alt/video.novtt.min.js"></script>
<script async src="//cdn.bootcss.com/mathjax/2.7.2/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [['$','$'], ['\\(','\\)']],
      displayMath: [['$$','$$'], ['\[','\]']],
      processEscapes: true,
      processEnvironments: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
      TeX: { equationNumbers: { autoNumber: "AMS" },
      extensions: ["AMSmath.js", "AMSsymbols.js"] }
    }
  });
</script>
<script type="text/x-mathjax-config">
  // Fix <code> tags after MathJax finishes running. This is a
  // hack to overcome a shortcoming of Markdown. Discussion at
  // https://github.com/mojombo/jekyll/issues/199
  MathJax.Hub.Queue(() => {
    MathJax.Hub.getAllJax().map(v => v.SourceElement().parentNode.className += ' has-jax');
  });
</script>

<script src="https://wzchan.github.io/js/bundle.js"></script>


<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-XXXXXXXX-X', 'auto');
ga('send', 'pageview');
</script>
<script async src='//www.google-analytics.com/analytics.js'></script>





  </body>
</html>
